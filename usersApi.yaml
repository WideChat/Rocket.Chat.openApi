openapi: 3.1.0
info:
  title: users
  version: '1.0'
servers:
  - url: '[url]/api/v1/'
paths:
  /users:
    get:
      summary: ''
      operationId: get-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                description: ''
                minItems: 1
                uniqueItems: true
                x-examples:
                  example-1:
                    - email: String
                      name: String
                      password: String
                      username: String
                      active: true
                      bio: Match.Maybe(String)
                      nickname: Match.Maybe(String)
                      statusText: Match.Maybe(String)
                      roles: []
                      joinDefaultChannels: true
                      requirePasswordChange: true
                      setRandomPassword: true
                      sendWelcomeEmail: true
                      verified: true
                      customFields: {}
                items:
                  $ref: '#/components/schemas/User'
      description: |
        Returns list of all user accounts.
      parameters: []
    parameters: []
  '/users/{userId}':
    post:
      summary: Create New User
      operationId: post-user
      responses:
        '200':
          description: User Created
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    user:
                      email: String
                      name: String
                      password: String
                      username: String
                      active: true
                      bio: Match.Maybe(String)
                      nickname: Match.Maybe(String)
                      statusText: Match.Maybe(String)
                      roles: []
                      joinDefaultChannels: true
                      requirePasswordChange: true
                      setRandomPassword: true
                      sendWelcomeEmail: true
                      verified: true
                      customFields: {}
                    success: true
                properties:
                  user:
                    type: object
                    required:
                      - email
                      - name
                      - password
                      - username
                      - active
                      - bio
                      - nickname
                      - statusText
                      - roles
                      - joinDefaultChannels
                      - requirePasswordChange
                      - setRandomPassword
                      - sendWelcomeEmail
                      - verified
                      - customFields
                    properties:
                      email:
                        type: string
                        minLength: 1
                      name:
                        type: string
                        minLength: 1
                      password:
                        type: string
                        minLength: 1
                      username:
                        type: string
                        minLength: 1
                      active:
                        type: boolean
                      bio:
                        type: string
                        minLength: 1
                      nickname:
                        type: string
                        minLength: 1
                      statusText:
                        type: string
                        minLength: 1
                      roles:
                        type: array
                        items:
                          type: object
                      joinDefaultChannels:
                        type: boolean
                      requirePasswordChange:
                        type: boolean
                      setRandomPassword:
                        type: boolean
                      sendWelcomeEmail:
                        type: boolean
                      verified:
                        type: boolean
                      customFields:
                        type: object
                  success:
                    type: boolean
                required:
                  - user
                  - success
              examples:
                New User Bob Fellow:
                  value:
                    id: 12
                    firstName: Bob
                    lastName: Fellow
                    email: bob.fellow@gmail.com
                    dateOfBirth: '1996-08-24'
                    emailVerified: false
                    createDate: '2020-11-18'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                email:
                  type: string
                  minLength: 1
                name:
                  type: string
                  minLength: 1
                password:
                  type: string
                  minLength: 1
                username:
                  type: string
                  minLength: 1
                active:
                  type: boolean
                bio:
                  type: string
                  minLength: 1
                nickname:
                  type: string
                  minLength: 1
                statusText:
                  type: string
                  minLength: 1
                roles:
                  type: array
                  items:
                    required: []
                    properties: {}
                joinDefaultChannels:
                  type: boolean
                requirePasswordChange:
                  type: boolean
                setRandomPassword:
                  type: boolean
                sendWelcomeEmail:
                  type: boolean
                verified:
                  type: boolean
                customFields:
                  type: boolean
              required:
                - email
                - name
                - password
                - username
                - active
                - bio
                - nickname
                - statusText
                - roles
                - joinDefaultChannels
                - requirePasswordChange
                - setRandomPassword
                - sendWelcomeEmail
                - verified
                - customFields
              x-examples:
                example-1:
                  email: String
                  name: String
                  password: String
                  username: String
                  active: true
                  bio: Match.Maybe(String)
                  nickname: Match.Maybe(String)
                  statusText: Match.Maybe(String)
                  roles: []
                  joinDefaultChannels: true
                  requirePasswordChange: true
                  setRandomPassword: true
                  sendWelcomeEmail: true
                  verified: true
                  customFields: true
            examples:
              Example:
                value:
                  email: string
                  name: string
                  password: string
                  username: string
                  active: true
                  bio: string
                  nickname: string
                  statusText: string
                  roles:
                    - {}
                  joinDefaultChannels: true
                  requirePasswordChange: true
                  setRandomPassword: true
                  sendWelcomeEmail: true
                  verified: true
                  customFields: true
          application/xml:
            schema:
              type: object
              properties: {}
          multipart/form-data:
            schema:
              description: ''
              type: object
              properties:
                email:
                  type: string
                  minLength: 1
                name:
                  type: string
                  minLength: 1
                password:
                  type: string
                  minLength: 1
                username:
                  type: string
                  minLength: 1
                active:
                  type: boolean
                bio:
                  type: string
                  minLength: 1
                nickname:
                  type: string
                  minLength: 1
                statusText:
                  type: string
                  minLength: 1
                roles:
                  type: array
                  items:
                    required: []
                    properties: {}
                joinDefaultChannels:
                  type: boolean
                requirePasswordChange:
                  type: boolean
                setRandomPassword:
                  type: boolean
                sendWelcomeEmail:
                  type: boolean
                verified:
                  type: boolean
                customFields:
                  type: object
                  properties: {}
                  required: []
              required:
                - email
                - name
                - password
                - username
                - active
                - bio
                - nickname
                - statusText
                - roles
                - joinDefaultChannels
                - requirePasswordChange
                - setRandomPassword
                - sendWelcomeEmail
                - verified
                - customFields
              x-examples:
                example-1:
                  email: String
                  name: String
                  password: String
                  username: String
                  active: true
                  bio: Match.Maybe(String)
                  nickname: Match.Maybe(String)
                  statusText: Match.Maybe(String)
                  roles: []
                  joinDefaultChannels: true
                  requirePasswordChange: true
                  setRandomPassword: true
                  sendWelcomeEmail: true
                  verified: true
                  customFields: {}
        description: Post the necessary fields for the API to create a new user.
      description: Create a new user.
    delete:
      summary: ''
      operationId: delete-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      parameters:
        - schema:
            type: string
          in: query
          name: userId
          description: Id of the user.
        - schema:
            type: string
          in: query
          name: username
          description: Username of the user.
      description: Deletes user with the specified `userId`
    get:
      summary: ''
      operationId: get-user
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
              examples:
                Example:
                  value:
                    id: 142
                    firstName: Alice
                    lastName: Smith
                    email: alice.smith@gmail.com
                    dateOfBirth: '1997-10-31'
                    emailVerified: true
                    signUpDate: '2019-08-24'
      description: Returns user with specified `userId`.
      parameters: []
    parameters:
      - schema:
          type: string
        name: userId
        in: path
        required: true
        description: Id of the target User.
    put:
      summary: ''
      operationId: put-users
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    user: {}
                    success: true
                properties:
                  user:
                    $ref: '#/components/schemas/User'
                  success:
                    type: boolean
                required:
                  - user
                  - success
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  userId: ''
                  data:
                    email: String
                    name: String
                    password: String
                    username: String
                    active: true
                    bio: Match.Maybe(String)
                    nickname: Match.Maybe(String)
                    statusText: Match.Maybe(String)
                    roles: []
                    joinDefaultChannels: true
                    requirePasswordChange: true
                    setRandomPassword: true
                    sendWelcomeEmail: true
                    verified: true
                    customFields: {}
              properties:
                userId:
                  type: string
                data:
                  $ref: '#/components/schemas/User'
              required:
                - userId
                - data
      description: Updates user with the specified `userId`
  /users/avatar:
    get:
      summary: getUserAvatar
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  statusCode:
                    type: number
                  body:
                    type: string
                    minLength: 1
                required:
                  - statusCode
                  - body
                x-examples:
                  example-1:
                    statusCode: 307
                    body: url
              examples:
                Example:
                  value:
                    statusCode: 307
                    body: avatar-url.png
      operationId: get-users-avatar
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
          required: true
    delete:
      summary: ''
      operationId: delete-users-avatar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
            application/xml:
              schema:
                type: object
                properties: {}
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: false
      description: 'Resets avatar of user with specified `userId` / `username`. If specified `userId` is not the callers and the caller does not have permissions to reset other users'' avatar, access is denied.'
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
          required: true
    post:
      summary: ''
      operationId: post-users-avatar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                required:
                  - success
                  - error
                x-examples:
                  example-1:
                    success: false
                    error: ''
              examples:
                No image:
                  value:
                    success: true
                    error: string
                No user with id:
                  value:
                    success: true
                    error: The optional `userId` or `username` param provided does not match any users
        '405':
          description: Method Not Allowed
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                    minLength: 1
                required:
                  - success
                  - error
                x-examples:
                  example-1:
                    success: false
                    error: Change avatar is not allowed.
              examples:
                Example:
                  value:
                    success: false
                    error: Change avatar is not allowed.
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  userId: ''
                  username: ''
                  avatarUrl: ''
              properties:
                userId:
                  type: string
                username:
                  type: string
                avatarUrl:
                  type: string
              required:
                - avatarUrl
      description: 'Sets avatar picture for user with specified `userId` / `username`. If no user is specified, sets avatar for caller.'
  /users/active-status:
    post:
      summary: ''
      operationId: post-users-active-status
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    user: {}
                    success: true
                properties:
                  user:
                    $ref: '#/components/schemas/User'
                  success:
                    type: boolean
                required:
                  - user
                  - success
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: false
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                userId:
                  type: string
                activeStatus:
                  type: boolean
                confirmRelinquish:
                  type: boolean
              required:
                - userId
                - activeStatus
                - confirmRelinquish
              x-examples:
                example-1:
                  userId: ''
                  activeStatus: true
                  confirmRelinquish: true
      description: Sets the active status of the user.
    parameters: []
  /users/deactivate-idle:
    post:
      summary: deactivateIdleUsers
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  count:
                    type: number
                  success:
                    type: boolean
                required:
                  - count
                  - success
                x-examples:
                  example-1:
                    count: 1
                    success: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: false
      operationId: post-users-deactivate-idle
      description: |-
        Deactivates user accounts that have been idle the the specified amount of days. 

        Optional: Deactivate user accounts with a specified `role`.

        Returns: Count of deactivated accounts.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                daysIdle:
                  type: number
                role:
                  type: string
              required:
                - daysIdle
                - role
              x-examples:
                example-1:
                  daysIdle: 2
                  role: ''
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
          required: true
  /users/presence:
    get:
      summary: getUserPresence
      tags: []
      responses: {}
      operationId: get-users-presence
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                presence:
                  type: string
                  minLength: 1
                connectionStatus:
                  type: string
                  minLength: 1
                lastLogin:
                  type: string
                  minLength: 1
                success:
                  type: boolean
              required:
                - presence
                - connectionStatus
                - lastLogin
                - success
              x-examples:
                example-1:
                  presence: offline
                  connectionStatus: offline
                  lastLogin: '2021-12-07T255:04:13.521Z'
                  success: true
            examples:
              Presence with Id:
                value:
                  presence: offline
                  connectionStatus: offline
                  lastLogin: '2021-12-07T255:04:13.521Z'
                  success: true
              Presence with no Id:
                value:
                  presence: string
                  success: true
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: 'Id / username of the user. '
        - schema:
            type: string
            format: date
            default: ISO 8601 datetime
          in: query
          name: from
          description: 'Returns results whose last date they got a status change is after the specified value. '
      description: 'Returns presence of user with specified `userId` / `username`. If no user is specified, returns all users'' presence.'
  /users/info:
    get:
      summary: getUsersInfo
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      _id:
                        type: string
                        minLength: 1
                      createdAt:
                        type: string
                        minLength: 1
                      services:
                        type: object
                        properties:
                          password:
                            type: object
                            properties:
                              bcrypt:
                                type: string
                                minLength: 1
                            required:
                              - bcrypt
                          email:
                            type: object
                            properties:
                              verificationTokens:
                                type: array
                                uniqueItems: true
                                minItems: 1
                                items:
                                  required:
                                    - token
                                    - address
                                    - when
                                  properties:
                                    token:
                                      type: string
                                      minLength: 1
                                    address:
                                      type: string
                                      minLength: 1
                                    when:
                                      type: string
                                      minLength: 1
                            required:
                              - verificationTokens
                          resume:
                            type: object
                            properties:
                              loginTokens:
                                type: array
                                uniqueItems: true
                                minItems: 1
                                items:
                                  required:
                                    - when
                                    - hashedToken
                                  properties:
                                    when:
                                      type: string
                                      minLength: 1
                                    hashedToken:
                                      type: string
                                      minLength: 1
                            required:
                              - loginTokens
                        required:
                          - password
                          - email
                          - resume
                      emails:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - address
                            - verified
                          properties:
                            address:
                              type: string
                              minLength: 1
                            verified:
                              type: boolean
                      type:
                        type: string
                        minLength: 1
                      status:
                        type: string
                        minLength: 1
                      active:
                        type: boolean
                      roles:
                        type: array
                        items:
                          required: []
                          properties: {}
                      name:
                        type: string
                        minLength: 1
                      lastLogin:
                        type: string
                        minLength: 1
                      statusConnection:
                        type: string
                        minLength: 1
                      utcOffset:
                        type: number
                      username:
                        type: string
                        minLength: 1
                      avatarETag:
                        type: string
                        minLength: 1
                    required:
                      - _id
                      - createdAt
                      - services
                      - emails
                      - type
                      - status
                      - active
                      - roles
                      - name
                      - lastLogin
                      - statusConnection
                      - utcOffset
                      - username
                      - avatarETag
                  success:
                    type: boolean
                required:
                  - user
                  - success
                x-examples:
                  example-1:
                    user:
                      _id: nSYqWzZ4GsKTX4dyK
                      createdAt: '2016-12-07T15:47:46.861Z'
                      services:
                        password:
                          bcrypt: ...
                        email:
                          verificationTokens:
                            - token: ...
                              address: example@example.com
                              when: '2016-12-07T15:47:46.930Z'
                        resume:
                          loginTokens:
                            - when: '2016-12-07T15:47:47.334Z'
                              hashedToken: ...
                      emails:
                        - address: example@example.com
                          verified: true
                      type: user
                      status: offline
                      active: true
                      roles:
                        - user
                      name: Example User
                      lastLogin: '2016-12-08T00:22:15.167Z'
                      statusConnection: offline
                      utcOffset: 0
                      username: example
                      avatarETag: thwftThP3Band942S
                    success: true
              examples:
                Example with no room fields made by regular user.:
                  value:
                    user:
                      _id: string
                      type: string
                      status: string
                      active: true
                      name: string
                      utcOffset: 0
                      username: string
                      avatarETag: string
                    success: true
                Example with no room fields made by admin.:
                  value:
                    user:
                      _id: nSYqWzZ4GsKTX4dyK
                      createdAt: '2016-12-07T15:47:46.861Z'
                      services:
                        password:
                          bcrypt: ...
                        email:
                          verificationTokens:
                            - token: ...
                              address: example@example.com
                              when: '2016-12-07T15:47:46.930Z'
                        resume:
                          loginTokens:
                            - when: '2016-12-07T15:47:47.334Z'
                              hashedToken: ...
                      emails:
                        - address: example@example.com
                          verified: true
                      type: user
                      status: offline
                      active: true
                      roles:
                        - user
                      name: Example User
                      lastLogin: '2016-12-08T00:22:15.167Z'
                      statusConnection: offline
                      utcOffset: 0
                      username: example
                      avatarETag: thwftThP3Band942S
                    success: true
                'Example with room fields called by admin ':
                  value:
                    user:
                      _id: nSYqWzZ4GsKTX4dyK
                      createdAt: '2016-12-07T15:47:46.861Z'
                      services:
                        password:
                          bcrypt: ...
                        email:
                          verificationTokens:
                            - token: ...
                              address: example@example.com
                              when: '2016-12-07T15:47:46.930Z'
                        resume:
                          loginTokens:
                            - when: '2016-12-07T15:47:47.334Z'
                              hashedToken: ...
                      emails:
                        - address: example@example.com
                          verified: true
                      type: user
                      status: offline
                      active: true
                      roles:
                        - user
                      name: Example User
                      lastLogin: '2016-12-08T00:22:15.167Z'
                      statusConnection: offline
                      utcOffset: 0
                      username: example
                      avatarETag: thwftThP3Band942S
                      rooms:
                        - _id: PoffwDEebAwcmS5A8
                          rid: GENERAL
                          name: general
                          t: c
                          unread: 1
                        - _id: hr93s8GcJedZbkeaH
                          rid: oaqXoFLru3YLuau2J
                          name: test
                          t: c
                          unread: 1
                          roles:
                            - owner
                    success: true
            application/xml:
              schema:
                type: object
                properties: {}
      operationId: get-users-info
      description: |-
        Returns user info of user with specified `userId`/`username`.
        The returned user info is determined by the caller's role.

        Optional: if `fields` is specified as a query parameter with `{'userRooms': 1}`, the response also returns all the rooms the user is in.
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          required: true
          description: Id / username of the user.
        - schema: {}
          in: query
          name: fields
          description: 'If `{userRooms'': 1}`, returns array of rooms the user is in.'
  /users/register:
    post:
      summary: registerUser
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      _id:
                        type: string
                        minLength: 1
                      type:
                        type: string
                        minLength: 1
                      status:
                        type: string
                        minLength: 1
                      active:
                        type: boolean
                      name:
                        type: string
                        minLength: 1
                      utcOffset:
                        type: number
                      username:
                        type: string
                        minLength: 1
                    required:
                      - _id
                      - type
                      - status
                      - active
                      - name
                      - utcOffset
                      - username
                  success:
                    type: boolean
                required:
                  - user
                  - success
                x-examples:
                  example-1:
                    user:
                      _id: nSYqWzZ4GsKTX4dyK
                      type: user
                      status: offline
                      active: true
                      name: Example User
                      utcOffset: 0
                      username: example
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                required:
                  - success
                  - error
                x-examples:
                  example-1:
                    success: false
                    error: ''
              examples:
                Logged in user calls registration.:
                  value:
                    success: false
                    error: Logged in users can not register again.
                Username already exists:
                  value:
                    success: false
                    error: Username is already in use.
      operationId: post-users-register
      description: 'Registers new user with `username`, `email`, `password` and `name`.'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                username:
                  type: string
                  minLength: 1
                email:
                  type: string
                  minLength: 1
                pass:
                  type: string
                  minLength: 1
                name:
                  type: string
                  minLength: 1
              required:
                - username
                - email
                - pass
                - name
              x-examples:
                example-1:
                  username: rogersmith
                  email: roger@example.com
                  pass: passw0rd
                  name: Roger Smith
  /users/status:
    get:
      summary: getUserStatus
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  message:
                    type: string
                    minLength: 1
                  connectionStatus:
                    type: string
                    minLength: 1
                  status:
                    type: string
                    minLength: 1
                  success:
                    type: boolean
                required:
                  - message
                  - connectionStatus
                  - status
                  - success
                x-examples:
                  example-1:
                    message: My status update
                    connectionStatus: online
                    status: away
                    success: true
              examples:
                Example:
                  value:
                    message: ''
                    connectionStatus: online
                    status: away
                    success: true
      operationId: get-users-status
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of user.
      description: 'Returns status of user with the specified `userId` / `username`. If no `userId` / `username` exists, returns stauts or caller.'
    post:
      summary: setUserStatus
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: false
      operationId: post-users-status
      description: Sets status of user with specified `userId` / `username`.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  message: ''
                  status: ''
              properties:
                message:
                  type: string
                status:
                  type: string
              required:
                - message
            examples:
              example-1:
                value:
                  message: My new status
                  status: onlone/away/busy/offline
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
  /users/basic-info:
    post:
      summary: updateOwnBasicInfo
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    user: {}
                    success: true
                properties:
                  user:
                    $ref: '#/components/schemas/User'
                  success:
                    type: boolean
                required:
                  - user
                  - success
              examples:
                Example:
                  value:
                    user:
                      id: 142
                      firstName: Alice
                      lastName: Smith
                      email: alice.smith@gmail.com
                      dateOfBirth: '1997-10-31'
                      emailVerified: true
                      signUpDate: '2019-08-24'
                    success: true
      operationId: post-users-basic-info
      description: Updates caller's basic info and returns updated User.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              x-examples:
                example-1:
                  data:
                    email: rocket.cat@rocket.chat
                    newPassword: passw0rd
                    currentPassword: 5994471abb01112afcc18159f6cc74b4f511b99806da59b3caf5a9c173cacfc5
                    username: rocket.cat
                    name: Example user
              properties:
                data:
                  type: object
                  required:
                    - email
                    - newPassword
                    - currentPassword
                    - username
                    - name
                  properties:
                    email:
                      type: string
                      minLength: 1
                    newPassword:
                      type: string
                      minLength: 1
                    currentPassword:
                      type: string
                      minLength: 1
                      description: Needs to be encrypted in SHA256
                    username:
                      type: string
                      minLength: 1
                    name:
                      type: string
                      minLength: 1
              required:
                - data
  /users/create-token:
    post:
      summary: ''
      operationId: post-users-create-token
      responses:
        '200':
          description: OK
      description: To be able to use this endpoint you must set the `ENV VAR (CREATE_TOKENS_FOR_USERS=true)`.
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user
          required: true
  /users/preferences:
    get:
      summary: getUserPreference
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  preferences:
                    type: object
                    properties:
                      newRoomNotification:
                        type: string
                        minLength: 1
                      newMessageNotification:
                        type: string
                        minLength: 1
                      muteFocusedConversations:
                        type: boolean
                      useEmojis:
                        type: boolean
                      convertAsciiEmoji:
                        type: boolean
                      saveMobileBandwidth:
                        type: boolean
                      collapseMediaByDefault:
                        type: boolean
                      autoImageLoad:
                        type: boolean
                      emailNotificationMode:
                        type: string
                        minLength: 1
                      roomsListExhibitionMode:
                        type: string
                        minLength: 1
                      unreadAlert:
                        type: boolean
                      notificationsSoundVolume:
                        type: number
                      desktopNotifications:
                        type: string
                        minLength: 1
                      mobileNotifications:
                        type: string
                        minLength: 1
                      enableAutoAway:
                        type: boolean
                      highlights:
                        type: array
                        items:
                          required: []
                          properties: {}
                      desktopNotificationDuration:
                        type: number
                      viewMode:
                        type: number
                      hideUsernames:
                        type: boolean
                      hideRoles:
                        type: boolean
                      hideAvatars:
                        type: boolean
                      hideFlexTab:
                        type: boolean
                      sendOnEnter:
                        type: string
                        minLength: 1
                      roomCounterSidebar:
                        type: boolean
                    required:
                      - newRoomNotification
                      - newMessageNotification
                      - muteFocusedConversations
                      - useEmojis
                      - convertAsciiEmoji
                      - saveMobileBandwidth
                      - collapseMediaByDefault
                      - autoImageLoad
                      - emailNotificationMode
                      - roomsListExhibitionMode
                      - unreadAlert
                      - notificationsSoundVolume
                      - desktopNotifications
                      - mobileNotifications
                      - enableAutoAway
                      - highlights
                      - desktopNotificationDuration
                      - viewMode
                      - hideUsernames
                      - hideRoles
                      - hideAvatars
                      - hideFlexTab
                      - sendOnEnter
                      - roomCounterSidebar
                  success:
                    type: boolean
                required:
                  - preferences
                  - success
                x-examples:
                  example-1:
                    preferences:
                      newRoomNotification: door
                      newMessageNotification: chime
                      muteFocusedConversations: true
                      useEmojis: true
                      convertAsciiEmoji: true
                      saveMobileBandwidth: true
                      collapseMediaByDefault: false
                      autoImageLoad: true
                      emailNotificationMode: all
                      roomsListExhibitionMode: category
                      unreadAlert: true
                      notificationsSoundVolume: 100
                      desktopNotifications: default
                      mobileNotifications: default
                      enableAutoAway: true
                      highlights: []
                      desktopNotificationDuration: 0
                      viewMode: 0
                      hideUsernames: false
                      hideRoles: false
                      hideAvatars: false
                      hideFlexTab: false
                      sendOnEnter: normal
                      roomCounterSidebar: false
                    success: true
              examples:
                Example:
                  value:
                    preferences:
                      newRoomNotification: door
                      newMessageNotification: chime
                      muteFocusedConversations: true
                      useEmojis: true
                      convertAsciiEmoji: true
                      saveMobileBandwidth: true
                      collapseMediaByDefault: false
                      autoImageLoad: true
                      emailNotificationMode: all
                      roomsListExhibitionMode: category
                      unreadAlert: true
                      notificationsSoundVolume: 100
                      desktopNotifications: default
                      mobileNotifications: default
                      enableAutoAway: true
                      highlights: []
                      desktopNotificationDuration: 0
                      viewMode: 0
                      hideUsernames: false
                      hideRoles: false
                      hideAvatars: false
                      hideFlexTab: false
                      sendOnEnter: normal
                      roomCounterSidebar: false
                    success: true
      operationId: get-users-preferences
      description: Returns user preferences of the caller.
    post:
      summary: setUserPreferences
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  user:
                    type: object
                    properties:
                      _id:
                        type: string
                        minLength: 1
                      settings:
                        type: object
                        properties:
                          preferences:
                            type: object
                            properties:
                              newRoomNotification:
                                type: string
                                minLength: 1
                              newMessageNotification:
                                type: string
                                minLength: 1
                              muteFocusedConversations:
                                type: boolean
                              useEmojis:
                                type: boolean
                              convertAsciiEmoji:
                                type: boolean
                              saveMobileBandwidth:
                                type: boolean
                              collapseMediaByDefault:
                                type: boolean
                              autoImageLoad:
                                type: boolean
                              emailNotificationMode:
                                type: string
                                minLength: 1
                              roomsListExhibitionMode:
                                type: string
                                minLength: 1
                              unreadAlert:
                                type: boolean
                              notificationsSoundVolume:
                                type: number
                              desktopNotifications:
                                type: string
                                minLength: 1
                              mobileNotifications:
                                type: string
                                minLength: 1
                              enableAutoAway:
                                type: boolean
                              highlights:
                                type: array
                                items:
                                  required: []
                                  properties: {}
                              desktopNotificationDuration:
                                type: number
                              desktopNotificationRequireInteraction:
                                type: boolean
                              viewMode:
                                type: number
                              hideUsernames:
                                type: boolean
                              hideRoles:
                                type: boolean
                              hideAvatars:
                                type: boolean
                              hideFlexTab:
                                type: boolean
                              sendOnEnter:
                                type: string
                                minLength: 1
                              roomCounterSidebar:
                                type: boolean
                            required:
                              - newRoomNotification
                              - newMessageNotification
                              - muteFocusedConversations
                              - useEmojis
                              - convertAsciiEmoji
                              - saveMobileBandwidth
                              - collapseMediaByDefault
                              - autoImageLoad
                              - emailNotificationMode
                              - roomsListExhibitionMode
                              - unreadAlert
                              - notificationsSoundVolume
                              - desktopNotifications
                              - mobileNotifications
                              - enableAutoAway
                              - highlights
                              - desktopNotificationDuration
                              - desktopNotificationRequireInteraction
                              - viewMode
                              - hideUsernames
                              - hideRoles
                              - hideAvatars
                              - hideFlexTab
                              - sendOnEnter
                              - roomCounterSidebar
                        required:
                          - preferences
                    required:
                      - _id
                      - settings
                required:
                  - success
                  - user
                x-examples:
                  example-1:
                    success: true
                    user:
                      _id: rocketchat.internal.admin.test
                      settings:
                        preferences:
                          newRoomNotification: door
                          newMessageNotification: chime
                          muteFocusedConversations: true
                          useEmojis: true
                          convertAsciiEmoji: true
                          saveMobileBandwidth: true
                          collapseMediaByDefault: false
                          autoImageLoad: true
                          emailNotificationMode: all
                          roomsListExhibitionMode: category
                          unreadAlert: true
                          notificationsSoundVolume: 100
                          desktopNotifications: default
                          mobileNotifications: default
                          enableAutoAway: true
                          highlights: []
                          desktopNotificationDuration: 0
                          desktopNotificationRequireInteraction: false
                          viewMode: 0
                          hideUsernames: false
                          hideRoles: false
                          hideAvatars: false
                          hideFlexTab: false
                          sendOnEnter: normal
                          roomCounterSidebar: false
              examples:
                Example:
                  value:
                    success: true
                    user:
                      _id: rocketchat.internal.admin.test
                      settings:
                        preferences:
                          newRoomNotification: door
                          newMessageNotification: chime
                          muteFocusedConversations: true
                          useEmojis: true
                          convertAsciiEmoji: true
                          saveMobileBandwidth: true
                          collapseMediaByDefault: false
                          autoImageLoad: true
                          emailNotificationMode: all
                          roomsListExhibitionMode: category
                          unreadAlert: true
                          notificationsSoundVolume: 100
                          desktopNotifications: default
                          mobileNotifications: default
                          enableAutoAway: true
                          highlights: []
                          desktopNotificationDuration: 0
                          desktopNotificationRequireInteraction: false
                          viewMode: 0
                          hideUsernames: false
                          hideRoles: false
                          hideAvatars: false
                          hideFlexTab: false
                          sendOnEnter: normal
                          roomCounterSidebar: false
      operationId: post-users-preferences
      description: Sets user preferences of user with specified `userId`.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                userId:
                  type: string
                data:
                  type: object
                  properties:
                    newRoomNotification:
                      type: string
                      minLength: 1
                    newMessageNotification:
                      type: string
                      minLength: 1
                    muteFocusedConversations:
                      type: boolean
                    useEmojis:
                      type: boolean
                    convertAsciiEmoji:
                      type: boolean
                    saveMobileBandwidth:
                      type: boolean
                    collapseMediaByDefault:
                      type: boolean
                    autoImageLoad:
                      type: boolean
                    emailNotificationMode:
                      type: string
                      minLength: 1
                    roomsListExhibitionMode:
                      type: string
                      minLength: 1
                    unreadAlert:
                      type: boolean
                    notificationsSoundVolume:
                      type: number
                    desktopNotifications:
                      type: string
                      minLength: 1
                    mobileNotifications:
                      type: string
                      minLength: 1
                    enableAutoAway:
                      type: boolean
                    highlights:
                      type: array
                      items:
                        required: []
                        properties: {}
                    desktopNotificationDuration:
                      type: number
                    desktopNotificationRequireInteraction:
                      type: boolean
                    viewMode:
                      type: number
                    hideUsernames:
                      type: boolean
                    hideRoles:
                      type: boolean
                    hideAvatars:
                      type: boolean
                    hideFlexTab:
                      type: boolean
                    sendOnEnter:
                      type: string
                      minLength: 1
                    roomCounterSidebar:
                      type: boolean
                  required:
                    - newRoomNotification
                    - newMessageNotification
                    - muteFocusedConversations
                    - useEmojis
                    - convertAsciiEmoji
                    - saveMobileBandwidth
                    - collapseMediaByDefault
                    - autoImageLoad
                    - emailNotificationMode
                    - roomsListExhibitionMode
                    - unreadAlert
                    - notificationsSoundVolume
                    - desktopNotifications
                    - mobileNotifications
                    - enableAutoAway
                    - highlights
                    - desktopNotificationDuration
                    - desktopNotificationRequireInteraction
                    - viewMode
                    - hideUsernames
                    - hideRoles
                    - hideAvatars
                    - hideFlexTab
                    - sendOnEnter
                    - roomCounterSidebar
              required:
                - userId
                - data
              x-examples:
                example-1:
                  userId: ''
                  data:
                    newRoomNotification: door
                    newMessageNotification: chime
                    muteFocusedConversations: true
                    useEmojis: true
                    convertAsciiEmoji: true
                    saveMobileBandwidth: true
                    collapseMediaByDefault: false
                    autoImageLoad: true
                    emailNotificationMode: all
                    roomsListExhibitionMode: category
                    unreadAlert: true
                    notificationsSoundVolume: 100
                    desktopNotifications: default
                    mobileNotifications: default
                    enableAutoAway: true
                    highlights: []
                    desktopNotificationDuration: 0
                    desktopNotificationRequireInteraction: false
                    viewMode: 0
                    hideUsernames: false
                    hideRoles: false
                    hideAvatars: false
                    hideFlexTab: false
                    sendOnEnter: normal
                    roomCounterSidebar: false
            examples:
              Example:
                value:
                  userId: string
                  data:
                    newRoomNotification: door
                    newMessageNotification: chime
                    muteFocusedConversations: true
                    useEmojis: true
                    convertAsciiEmoji: true
                    saveMobileBandwidth: true
                    collapseMediaByDefault: false
                    autoImageLoad: true
                    emailNotificationMode: all
                    roomsListExhibitionMode: category
                    unreadAlert: true
                    notificationsSoundVolume: 100
                    desktopNotifications: default
                    mobileNotifications: default
                    enableAutoAway: true
                    highlights: []
                    desktopNotificationDuration: 0
                    desktopNotificationRequireInteraction: false
                    viewMode: 0
                    hideUsernames: false
                    hideRoles: false
                    hideAvatars: false
                    hideFlexTab: false
                    sendOnEnter: normal
                    roomCounterSidebar: false
  /users/forgot-password:
    post:
      summary: forgetUserPassword
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-forgot-password
      description: Sends email to the specified `email` for password recovery.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                email:
                  type: string
              required:
                - email
              x-examples:
                example-1:
                  email: ''
  /users/username-suggestion:
    get:
      summary: getUsernameSuggestion
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  result:
                    type: string
                    minLength: 1
                  success:
                    type: boolean
                required:
                  - result
                  - success
                x-examples:
                  example-1:
                    result: rocket.cat
                    success: true
      operationId: get-users-username-suggestion
      description: Returns a username suggestion for the caller.
  /users/personal-access-token:
    post:
      summary: generatePersonalAccessToken
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  token:
                    type: string
                    minLength: 1
                  success:
                    type: boolean
                required:
                  - token
                  - success
                x-examples:
                  example-1:
                    token: 2jdk99wuSjXPO201XlAks9sjDjAhSJmskAKW301mSuj9Sk
                    success: true
              examples:
                Example:
                  value:
                    token: string
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                    minLength: 1
                required:
                  - success
                  - error
                x-examples:
                  example-1:
                    success: false
                    error: The 'tokenName' is required
              examples:
                Example:
                  value:
                    success: false
                    error: The 'tokenName' is required
      operationId: post-users-personal-access-token
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                tokenName:
                  type: string
                  minLength: 1
                bypassTwoFactor:
                  type: boolean
              required:
                - tokenName
                - bypassTwoFactor
              x-examples:
                example-1:
                  tokenName: mypersonaltoken
                  bypassTwoFactor: true
            examples:
              Example:
                value:
                  tokenName: token-1
                  bypassTwoFactor: true
      description: Generates personal access token for the caller.
    get:
      summary: getAccessToken
      operationId: get-users-personal-access-token
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  tokens:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - name
                        - createdAt
                        - lastTokenPart
                      properties:
                        name:
                          type: string
                          minLength: 1
                        createdAt:
                          type: string
                          minLength: 1
                        lastTokenPart:
                          type: string
                          minLength: 1
                  success:
                    type: boolean
                required:
                  - tokens
                  - success
                x-examples:
                  example-1:
                    tokens:
                      - name: myToken
                        createdAt: '2018-08-01T17:17:48.068Z'
                        lastTokenPart: R8Agh3
                    success: true
              examples:
                Example:
                  value:
                    tokens:
                      - name: myToken
                        createdAt: '2018-08-01T17:17:48.068Z'
                        lastTokenPart: R8Agh3
                    success: true
      description: Returns caller's access tokens
    delete:
      summary: deletePersonalAccessToken
      operationId: delete-users-personal-access-token
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
              examples:
                Example:
                  value:
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  error:
                    type: string
                    minLength: 1
                required:
                  - success
                  - error
                x-examples:
                  example-1:
                    success: false
                    error: The 'tokenName' is requires
              examples:
                Example:
                  value:
                    success: false
                    error: The 'tokenName' is required
      description: Deletes caller's token with the specified `tokenName`
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                tokenName:
                  type: string
              required:
                - tokenName
              x-examples:
                example-1:
                  tokenName: ''
            examples:
              Example:
                value:
                  tokenName: token-1
  /users/regenerate-personal-access-token:
    post:
      summary: regeneratePersonalAccessToken
      tags: []
      responses: {}
      operationId: post-users-regenerate-personal-access-token
      description: Regenerates personal access token for the caller.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                tokenName:
                  type: string
              required:
                - tokenName
              x-examples:
                example-1:
                  tokenName: ''
            examples:
              Example:
                value:
                  tokenName: token-1
  /users/2fa-enable-email:
    post:
      summary: enable2faEmail
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-2fa-enable-email
  /users/2fa-send-email-code:
    post:
      summary: send2faEmailCode
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
        '':
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-2fa-enable-email
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties: {}
      description: 'Sends email code to the specified email, or takes email from specified user. [Bad format, may need to change]'
    parameters: []
  /users/2fa-disable-email:
    post:
      summary: disable2faEmail
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-2fa-enable-email
    parameters: []
  /users/request-data-download:
    get:
      summary: requestDataDownload
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  requested:
                    type: boolean
                  exportOperation:
                    type: object
                    properties:
                      _id:
                        type: string
                        minLength: 1
                      createdAt:
                        type: string
                        minLength: 1
                      userId:
                        type: string
                        minLength: 1
                      roomList:
                        type: array
                        uniqueItems: true
                        minItems: 1
                        items:
                          required:
                            - roomId
                            - roomName
                            - exportedCount
                            - status
                            - targetFile
                            - type
                          properties:
                            roomId:
                              type: string
                              minLength: 1
                            roomName:
                              type: string
                              minLength: 1
                            userId: {}
                            exportedCount:
                              type: number
                            status:
                              type: string
                              minLength: 1
                            targetFile:
                              type: string
                              minLength: 1
                            type:
                              type: string
                              minLength: 1
                      status:
                        type: string
                        minLength: 1
                      exportPath:
                        type: string
                        minLength: 1
                      assetsPath:
                        type: string
                        minLength: 1
                      fileList:
                        type: array
                        items:
                          required: []
                          properties: {}
                      generatedFile:
                        type: string
                        minLength: 1
                      fullExport:
                        type: boolean
                      _updatedAt:
                        type: string
                        minLength: 1
                    required:
                      - _id
                      - createdAt
                      - userId
                      - roomList
                      - status
                      - exportPath
                      - assetsPath
                      - fileList
                      - generatedFile
                      - fullExport
                      - _updatedAt
                  success:
                    type: boolean
                required:
                  - requested
                  - exportOperation
                  - success
                x-examples:
                  example-1:
                    requested: false
                    exportOperation:
                      _id: uDSuaW7vGd9B7j8qD
                      createdAt: '2019-06-07T23:02:13.359Z'
                      userId: hjwGZafNqExtFNmN7
                      roomList:
                        - roomId: GENERAL
                          roomName: general
                          userId: null
                          exportedCount: 8
                          status: completed
                          targetFile: general.html
                          type: c
                      status: uploading
                      exportPath: /tmp/userData/hjwGZafNqExtFNmN7/partial
                      assetsPath: /tmp/userData/hjwGZafNqExtFNmN7/partial/assets
                      fileList: []
                      generatedFile: /tmp/zipFiles/hjwGZafNqExtFNmN7.zip
                      fullExport: false
                      _updatedAt: '2019-06-07T23:15:00.326Z'
                    success: true
              examples:
                Example:
                  value:
                    requested: false
                    exportOperation:
                      _id: uDSuaW7vGd9B7j8qD
                      createdAt: '2019-06-07T23:02:13.359Z'
                      userId: hjwGZafNqExtFNmN7
                      roomList:
                        - roomId: GENERAL
                          roomName: general
                          userId: null
                          exportedCount: 8
                          status: completed
                          targetFile: general.html
                          type: c
                      status: uploading
                      exportPath: /tmp/userData/hjwGZafNqExtFNmN7/partial
                      assetsPath: /tmp/userData/hjwGZafNqExtFNmN7/partial/assets
                      fileList: []
                      generatedFile: /tmp/zipFiles/hjwGZafNqExtFNmN7.zip
                      fullExport: false
                      _updatedAt: '2019-06-07T23:15:00.326Z'
                    success: true
      operationId: get-users-request-data-download
      parameters:
        - schema:
            type: boolean
          in: query
          name: fullExport
          description: 'Requires full export. Default: `false`'
  /users/logout-other-clients:
    post:
      summary: logoutOtherClients
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  token:
                    type: string
                    minLength: 1
                  tokenExpires:
                    type: string
                    minLength: 1
                  success:
                    type: boolean
                required:
                  - token
                  - tokenExpires
                  - success
                x-examples:
                  example-1:
                    token: SnS70r0VkngGFrSbxVK-pdwFMEzhefcjQgdnXaPeAaq
                    tokenExpires: '2021-12-27T14:33:09.851Z'
                    success: true
              examples:
                Example:
                  value:
                    token: SnS70r0VkngGFrSbxVK-pdwFMEzhefcjQgdnXaPeAaq
                    tokenExpires: '2021-12-27T14:33:09.851Z'
                    success: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  status:
                    type: string
                    minLength: 1
                  message:
                    type: string
                    minLength: 1
                required:
                  - status
                  - message
                x-examples:
                  example-1:
                    status: error
                    message: You must be logged in to do this.
              examples:
                example-1:
                  value:
                    status: error
                    message: You must be logged in to do this.
      operationId: post-users-logout-other-clients
      parameters:
        - schema:
            type: string
          in: header
          name: X-User-Id
          description: Id of caller user.
        - schema:
            type: string
          in: header
          name: X-Auth-Token
          description: Token generated upon login.
  /users/autocomplete:
    get:
      summary: userAutocomplete
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  items:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - _id
                        - username
                        - status
                        - name
                        - nickname
                      properties:
                        _id:
                          type: string
                          minLength: 1
                        username:
                          type: string
                          minLength: 1
                        status:
                          type: string
                          minLength: 1
                        name:
                          type: string
                          minLength: 1
                        nickname:
                          type: string
                          minLength: 1
                  success:
                    type: boolean
                required:
                  - items
                  - success
                x-examples:
                  example-1:
                    items:
                      - _id: 6esQ6cpqSQYvoLTvC
                        username: Aaron.altamirano
                        status: offline
                        name: 'Aaron Altamirano '
                        nickname: aaron.altamirano@rocket.chat
                      - _id: AySWYsyzToxy3239z
                        username: Balazs.Nemethi
                        status: offline
                        name: Balázs Némethi
                      - _id: gxcJTYapi5mPxuAme
                        username: Bruno.Solis
                        status: offline
                        name: Bruno Solis
                        avatarETag: ZAHMxLQ6bW426Knwm
                      - _id: kvqbntLso8y2dEx7C
                        username: Ivan.Belousov
                        status: offline
                        name: Ivan
                      - _id: AkFjhgJFHAhNK3e6o
                        status: offline
                        name: Karina Monarkh
                        username: Karina
                      - _id: M3ajjGeyg8SfKXopd
                        username: Rucks_guest2
                        status: offline
                        name: Rucks_guest2
                        nickname: anonymous3
                    success: true
              examples:
                Example:
                  value:
                    items:
                      - _id: gxcJTYapi5mPxuAme
                        username: JohnD
                        status: offline
                        name: John Doe
                        nickname: JohnD
                    success: true
      operationId: get-users-autocomplete
      description: List of users whose names match a given pattern.
      parameters:
        - schema:
            type: string
            default: '{ "exceptions: []" }'
          in: query
          name: selector
          description: Users that will be excluded from the list.
          required: true
  /users/remove-other-tokens:
    post:
      summary: removeOtherTokens
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-remove-other-tokens
  /users/reset-e2e-key:
    post:
      summary: resetE2EKey
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-reset-e2e-key
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
          required: true
  /users/reset-totp:
    post:
      summary: resetTOTP
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                required:
                  - success
                x-examples:
                  example-1:
                    success: true
      operationId: post-users-reset-e2e-key
      parameters:
        - schema:
            type: string
          in: query
          name: userId / username
          description: Id / username of the user.
          required: true
    parameters: []
  /users/teams:
    get:
      summary: getUserTeams
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  teams:
                    type: array
                    uniqueItems: true
                    minItems: 1
                    items:
                      required:
                        - _id
                        - name
                        - type
                        - createdAt
                        - _updatedAt
                        - roomId
                        - isOwner
                      properties:
                        _id:
                          type: string
                          minLength: 1
                        name:
                          type: string
                          minLength: 1
                        type:
                          type: number
                        createdAt:
                          type: string
                          minLength: 1
                        createdBy:
                          type: object
                          properties:
                            _id:
                              type: string
                              minLength: 1
                            username:
                              type: string
                              minLength: 1
                          required:
                            - _id
                            - username
                        _updatedAt:
                          type: string
                          minLength: 1
                        roomId:
                          type: string
                          minLength: 1
                        isOwner:
                          type: boolean
                  success:
                    type: boolean
                required:
                  - teams
                  - success
                x-examples:
                  example-1:
                    teams:
                      - _id: 612b8ae982d286c3
                        name: documentation-team
                        type: 0
                        createdAt: '2021-08-29T13:26:01.750Z'
                        createdBy:
                          _id: JxemcN9PDCdfzJe
                          username: renato.b
                        _updatedAt: '2021-08-29T13:26:01.762Z'
                        roomId: GwktYAajqw4RiWiBK
                        isOwner: true
                    success: true
              examples:
                example-1:
                  value:
                    teams:
                      - _id: 612b8ae982d286c3
                        name: documentation-team
                        type: 0
                        createdAt: '2021-08-29T13:26:01.750Z'
                        createdBy:
                          _id: JxemcN9PDCdfzJe
                          username: renato.b
                        _updatedAt: '2021-08-29T13:26:01.762Z'
                        roomId: GwktYAajqw4RiWiBK
                        isOwner: true
                    success: true
      operationId: get-users-teams
      description: Returns a list of the teams the user with the specified `userId` is in.
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                userId:
                  type: string
              required:
                - userId
              x-examples:
                example-1:
                  userId: ''
  /users/logout:
    post:
      summary: logoutUser
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                    minLength: 1
                required:
                  - success
                  - message
                x-examples:
                  example-1:
                    success: true
                    message: User `userId` has been logged out!
              examples:
                Example:
                  value:
                    success: true
                    message: User `userId` has been logged out!
      operationId: post-users-logout
      description: 'Logout user with the specified `userId`. If no `userId`, logout caller. '
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                userId:
                  type: string
              required:
                - userId
              x-examples:
                example-1:
                  userId: ''
components:
  schemas:
    User:
      title: User
      type: object
      description: ''
      examples:
        - id: 142
          firstName: Alice
          lastName: Smith
          email: alice.smith@gmail.com
          dateOfBirth: '1997-10-31'
          emailVerified: true
          signUpDate: '2019-08-24'
      properties:
        id:
          type: integer
          description: Unique identifier for the given user.
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
          format: email
        dateOfBirth:
          type: string
          format: date
          example: '1997-10-31'
        emailVerified:
          type: boolean
          description: Set to true if the user's email has been verified.
        createDate:
          type: string
          format: date
          description: The date that the user was created.
      required:
        - id
        - firstName
        - lastName
        - email
        - emailVerified
